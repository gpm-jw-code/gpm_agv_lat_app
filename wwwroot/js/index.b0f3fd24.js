(function(){var e={6700:function(e,t,a){var s={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=i,e.exports=n,n.id=6700},3243:function(e,t,a){"use strict";var s=a(9242),n=a(3396);const i={class:"navbar navbar-expand-sm navbar-dark bg-dark fixed-top"},l={class:"container-fluid"},o=(0,n._)("a",{class:"navbar-brand",href:"#"},"GPM",-1),r={class:"navbar-toggler",type:"button"},c=(0,n._)("span",{class:"navbar-toggler-icon"},null,-1),d=[c],u=(0,n.uE)('<div class="collapse navbar-collapse" id="navbarID"><div class="navbar-nav"><a class="nav-link active" aria-current="page" href="/"><i class="bi bi-house"></i> Home </a><a class="nav-link active" aria-current="page" href="/Orders"><i class="bi bi-list-ol"></i> Orders </a><a class="nav-link active" aria-current="page" href="/agvc"><i class="bi bi-car-front"></i> 車庫 </a><a class="nav-link active" aria-current="page" href="/map_view"><i class="bi bi-pin-map-fill"></i> MAP </a><a class="nav-link active" aria-current="page" href="/logview"><i class="bi bi-card-text"></i> Log </a><a class="nav-link active" aria-current="page" href="/agvs">AGVS</a></div></div>',1);function p(e,t){const a=(0,n.up)("el-backtop"),s=(0,n.up)("router-view"),c=(0,n.Q2)("b-toggle");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(a,{right:40,bottom:40}),(0,n._)("nav",i,[(0,n._)("div",l,[o,(0,n.wy)(((0,n.wg)(),(0,n.iD)("button",r,d)),[[c,void 0,void 0,{navbarID:!0}]]),u])]),(0,n.Wm)(s,{style:{height:"100%","padding-top":"30px"}},{default:(0,n.w5)((({Component:e})=>[((0,n.wg)(),(0,n.j4)(n.Ob,null,[((0,n.wg)(),(0,n.j4)((0,n.LL)(e)))],1024))])),_:1})],64)}var g=a(89);const m={},v=(0,g.Z)(m,[["render",p]]);var h=v,_=a(5431);(0,_.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var w=a(2483);const f={class:"home"},b=(0,n.Uk)("與後端服務器連線發生異常!");function k(e,t,a,s,i,l){const o=(0,n.up)("b-alert"),r=(0,n.up)("AGVSSettingVue"),c=(0,n.up)("AGVCTableVue");return(0,n.wg)(),(0,n.iD)("div",f,[(0,n.Wm)(o,{class:"mt-3",modelValue:i.backend_disconnect,"onUpdate:modelValue":t[0]||(t[0]=e=>i.backend_disconnect=e),variant:"danger"},{default:(0,n.w5)((()=>[b])),_:1},8,["modelValue"]),(0,n.Wm)(r,{onBackend_connected:l.HandleBackendConnectedState},null,8,["onBackend_connected"]),(0,n.Wm)(c,{states:e.agvcStatus},null,8,["states"])])}const y={class:"agvs-setting block-item border-bottom"},S=(0,n._)("h3",null,"AGVS 設定",-1);function D(e,t,a,s,i,l){const o=(0,n.up)("AGVSItemVue");return(0,n.wg)(),(0,n.iD)("div",y,[S,(0,n.Wm)(o,{agvsProps:i.agvsSettings},null,8,["agvsProps"])])}var j=a(6265),x=a.n(j),C="http://localhost:5123";async function N(){return await T("/api/agvc/list")}async function A(){return await T("/api/agvc/states")}async function W(e){return await T(`/api/agvc/state?agvc_id=${e}`)}async function I(){return await T("/api/agvs/settings")}async function V(){return await T("/api/agvc/AgvTypes")}async function O(){return await T("/api/Orders")}async function z(e){return await T(`/api/agvc/GetNativeData?eqName=${e}`)}async function G(){return await T("/api/Map/GetMapInfos")}async function T(e){var t=await x().get(e);return t.data}x().defaults.baseURL=C;var M=a(7139);const U={class:"agvs-item d-flex flex-row my-2 mx-2"},F={class:"d-flex flex-row"},L=(0,n._)("span",null,"Provider",-1),E={class:"mx-3"},H={class:"d-flex flex-row"},$=(0,n._)("span",null,"Connection",-1),P={class:"mx-3"};function R(e,t,a,s,i,l){const o=(0,n.up)("el-tag");return(0,n.wg)(),(0,n.iD)("div",U,[(0,n._)("div",F,[L,(0,n._)("div",E,[(0,n.Wm)(o,{round:"",effect:"dark",size:"large"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,M.zw)(a.agvsProps.VenderName),1)])),_:1})])]),(0,n._)("div",H,[$,(0,n._)("div",P,[(0,n.Wm)(o,{round:"",effect:"dark",size:"large"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,M.zw)(a.agvsProps.ConnectionString),1)])),_:1})])])])}var K={props:{agvsProps:{type:Object,default(){return{VenderName:"",ConnectionString:""}}}}};const q=(0,g.Z)(K,[["render",R]]);var Z=q,B={components:{AGVSItemVue:Z},data(){return{agvsSettings:{VenderName:"Fetching...",ConnectionString:"Fetching..."},Backend_Connected:!1,ReconnectingFlag:0}},methods:{async Reconnect(){this.ReconnectingFlag=1,await this.FetchData()},async FetchData(){setTimeout((async()=>{I().then((e=>{this.agvsSettings=e,this.Backend_Connected=!0,this.ShowReconnectNoti(),this.$emit("backend_connected",!0)})).catch((e=>{this.Backend_Connected=!1,this.$emit("backend_connected",!1),this.Reconnect()}))}),100)},ShowReconnectNoti(){1==this.ReconnectingFlag&&(this.ReconnectingFlag=0,this.$notify.success({title:"Connection Infomation",message:"與服務器的連線已經恢復",duration:"4500",position:"top-right",showClose:"true"}))}},mounted(){this.FetchData()}};const Q=(0,g.Z)(B,[["render",D]]);var Y=Q;const J={class:"agvc-table block-item border-bottom"},X=(0,n._)("h3",null,"AGVC 列表",-1),ee={style:{width:"140px"}},te=(0,n.Uk)("詳細內容"),ae=(0,n.Uk)("MAP");function se(e,t,a,s,i,l){const o=(0,n.up)("el-table-column"),r=(0,n.up)("el-tag"),c=(0,n.up)("el-progress"),d=(0,n.up)("el-button"),u=(0,n.up)("el-table"),p=(0,n.Q2)("loading");return(0,n.wg)(),(0,n.iD)("div",J,[X,(0,n.wy)(((0,n.wg)(),(0,n.j4)(u,{data:i.agvcStatus,"row-key":"agvcParameters.tcpParams.hostIP","header-cell-style":i.header_style},{default:(0,n.w5)((()=>[(0,n.Wm)(o,{label:"ID",prop:"ID"}),(0,n.Wm)(o,{label:"AGVC Name",prop:"EQName"}),(0,n.Wm)(o,{label:"Connection"},{default:(0,n.w5)((e=>[(0,n._)("div",null,(0,M.zw)(e.row.agvcParameters.tcpParams.HostIP)+":"+(0,M.zw)(e.row.agvcParameters.tcpParams.HostPort),1)])),_:1}),(0,n.Wm)(o,{label:"Type",prop:"agvcType",formatter:l.TypeFormatter},null,8,["formatter"]),(0,n.Wm)(o,{label:"連線狀態",prop:"agvcStates.States.EConnectionState"},{default:(0,n.w5)((e=>[(0,n.Wm)(r,{effect:"plain",type:0==e.row.agvcStates.States.EConnectionState?"success":"warning"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,M.zw)(l.ConnectionStateFormatter(e.row.agvcStates.States.EConnectionState)),1)])),_:2},1032,["type"])])),_:1}),(0,n.Wm)(o,{label:"上線狀態",prop:"agvcStates.States.OnlineState"}),(0,n.Wm)(o,{label:"工作狀態",prop:"agvcStates.States.ERunningState",formatter:l.RunningStateFormatter},null,8,["formatter"]),(0,n.Wm)(o,{label:"電量"},{default:(0,n.w5)((e=>[(0,n._)("div",ee,[(0,n.Wm)(c,{type:"line",width:45,"stroke-width":12,percentage:Number.parseInt((100*e.row.agvcStates.BetteryState.remaining).toFixed(0))},null,8,["percentage"])])])),_:1}),(0,n.Wm)(o,{width:"200"},{default:(0,n.w5)((e=>[(0,n.Wm)(d,{onClick:t=>l.ShowAGVCInfoPage(e.row)},{default:(0,n.w5)((()=>[te])),_:2},1032,["onClick"]),(0,n.Wm)(d,{onClick:t=>l.ShowMapButtonHandle(e.row)},{default:(0,n.w5)((()=>[ae])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","header-cell-style"])),[[p,i.tableLoading]])])}function ne(e){return 0==e?"GPM推高機":1==e?"罡豪潛遁":"Unknown"}function ie(e){return 0==e?"GPM":1==e?"晶潔能AGVS":"Unknown"}function le(e){return 0==e?"Connected":1==e?"Connecting":"Disconnect"}function oe(e){return 0==e?"Idle":"Running"}function re(e){return 0==e?"WAIT_EXECUTE":1==e?"EXECUTING":2==e?"COMPLETE":3==e?"STOPPED":4==e?"FAILED":5==e?"ERROR":"Unknown"}var ce={data(){return{tableLoading:!0,agvcStatus:[],header_style:{backgroundColor:"black",color:"white"}}},methods:{TypeFormatter(e,t,a,s){return ne(a)},ConnectionStateFormatter(e){return le(e)},RunningStateFormatter(e,t,a,s){return oe(a)},BetteryStateFormatter(e,t,a,s){return a+" %"},ShowAGVCInfoPage(e){this.$router.push({name:"agvc",query:{agv_id:e.ID}})},ShowMapButtonHandle(e){console.info(e),this.$router.push({name:"map_view",params:{agv_id:e.ID}})}},mounted(){setTimeout((async()=>{setInterval((async()=>{this.agvcStatus=await A(),this.tableLoading=!1}),1e3)}),10)}};const de=(0,g.Z)(ce,[["render",se]]);var ue=de,pe={name:"HomeView",components:{AGVSSettingVue:Y,AGVCTableVue:ue},data(){return{backend_disconnect:!1}},methods:{HandleBackendConnectedState(e){this.backend_disconnect=!e}}};const ge=(0,g.Z)(pe,[["render",k]]);var me=ge;const ve={class:"agvc-map block-item h-100"},he={class:"d-flex flex-row"},_e={class:"flex-fill"},we=(0,n.Uk)(" MAP OF AGV- "),fe={class:"text-end"},be={class:"text-end"},ke=(0,n.Uk)("顯示所有AGV"),ye={class:"map-display border-top bg-dark",style:{height:"800px"}},Se={class:"popover-content"},De={class:"d-flex flex-row"},je=(0,n._)("span",null,"ID",-1),xe={class:"d-flex flex-row"},Ce=(0,n._)("span",null,"Brand",-1),Ne={class:"d-flex flex-row"},Ae=(0,n._)("span",null,"操作模式",-1),We={class:"d-flex flex-row"},Ie=(0,n._)("span",null,"上線狀態",-1),Ve={class:"d-flex flex-row"},Oe=(0,n._)("span",null,[(0,n.Uk)(" 電量 "),(0,n._)("i",{class:"bi bi-battery"})],-1),ze={class:"global-coordinate-display"},Ge=(0,n._)("div",{class:"map-info d-flex flex-row"},[(0,n._)("span",null,"當前地圖:"),(0,n._)("div",null,"??")],-1);function Te(e,t,a,s,i,l){const o=(0,n.up)("el-option"),r=(0,n.up)("el-select"),c=(0,n.up)("el-button"),d=(0,n.up)("el-tag"),u=(0,n.up)("el-progress"),p=(0,n.up)("el-popover");return(0,n.wg)(),(0,n.iD)("div",ve,[(0,n._)("div",he,[(0,n._)("h3",_e,[we,(0,n.Wm)(r,{size:"large",modelValue:i.selectedID,"onUpdate:modelValue":t[0]||(t[0]=e=>i.selectedID=e)},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.AGVCTypesInfo,((e,t)=>((0,n.wg)(),(0,n.j4)(o,{key:t,value:t,label:t},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])]),(0,n._)("span",fe,(0,M.zw)(l.hostUrl),1),(0,n._)("span",be,["single-agv"==l.displayMode?((0,n.wg)(),(0,n.j4)(c,{key:0,onClick:l.ShowAllAgvMode},{default:(0,n.w5)((()=>[ke])),_:1},8,["onClick"])):(0,n.kq)("",!0)])]),(0,n._)("div",ye,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.RecievedData,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"agv-spot d-flex flex-column",key:t,style:(0,M.j5)(i.agvSpotStyle[t].position)},[(0,n.Wm)(p,{placement:"top-start",width:"200px"},{reference:(0,n.w5)((()=>[(0,n._)("span",null,(0,M.zw)(t),1)])),default:(0,n.w5)((()=>[(0,n._)("div",Se,[(0,n._)("div",De,[je,(0,n._)("div",null,(0,M.zw)(t),1)]),(0,n._)("div",xe,[Ce,(0,n._)("div",null,(0,M.zw)(i.AGVCTypesInfo[t]),1)]),(0,n._)("div",Ne,[Ae,(0,n._)("div",null,(0,M.zw)(e.States.OperationState),1)]),(0,n._)("div",We,[Ie,(0,n._)("div",null,[(0,n.Wm)(d,{effect:"dark",type:"OFFLINE"==e.States.OnlineState?"danger":"success"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,M.zw)(e.States.OnlineState),1)])),_:2},1032,["type"])])]),(0,n._)("div",Ve,[Oe,(0,n._)("div",null,[(0,n.Wm)(u,{"text-inside":!0,"stroke-width":26,percentage:e.BetteryState.remaining},null,8,["percentage"])])])])])),_:2},1024),(0,n._)("i",{style:(0,M.j5)(i.agvSpotStyle[t].rotation),class:(0,M.C_)([[e.States.RunningState],"direction-indicator bi bi-arrow-up-circle"])},null,6),(0,n._)("div",ze,"("+(0,M.zw)(e.MapStates.globalCoordinate.x)+","+(0,M.zw)(e.MapStates.globalCoordinate.y)+","+(0,M.zw)(e.MapStates.globalCoordinate.r)+")",1)],4)))),128))]),Ge])}var Me={data(){return{websocket:null,websocketConnected:!1,RecievedData:{},agvSpotStyle:{},selectedID:"",AGVCTypesInfo:{}}},computed:{agv_id(){return void 0==this.$route.params.agv_id?"all":this.$route.params.agv_id},hostUrl(){return C.replace("http","ws")},displayMode(){return void 0==this.$route.params.agv_id?"all-agvs":"single-agv"}},methods:{WebsocketIni(){this.websocket=new WebSocket(`${this.hostUrl}/map?agv_id=${this.agv_id}`),this.websocket.onopen=()=>{this.websocketConnected=!0},this.websocket.onmessage=e=>this.HandleWSData(e)},HandleWSData(e){this.RecievedData=JSON.parse(e.data),Object.keys(this.RecievedData).forEach((e=>{var t=this.RecievedData[e].MapStates.globalCoordinate;void 0==this.agvSpotStyle[e]&&(this.agvSpotStyle[e]={position:{},rotation:{}}),this.agvSpotStyle[e].position.top=t.x+"px",this.agvSpotStyle[e].position.left=t.y+"px",this.agvSpotStyle[e].rotation.transform=`rotateZ(${t.r}deg)`})),this.afvSpotStyle},ShowAllAgvMode(){location.href="/map_all"}},mounted(){this.selectedID=this.agv_id,V().then((e=>{this.AGVCTypesInfo=e,this.WebsocketIni()}))}};const Ue=(0,g.Z)(Me,[["render",Te]]);var Fe=Ue;const Le={class:"d-flex flex-row h-100"},Ee=(0,n._)("div",{class:"border-bottom w-100 mb-3"},[(0,n._)("h3",null,"Order List")],-1),He=(0,n.Uk)(" 訂單接收時間 "),$e=(0,n._)("i",{class:"bi bi-question-circle"},null,-1),Pe={class:"w-100"},Re=(0,n.Uk)("Order 內容"),Ke={class:"block-item h-100 task-data-view-container border-left"},qe={class:"d-flex flex-row"},Ze=(0,n._)("i",{class:"bi bi-chevron-double-right"},null,-1),Be=(0,n._)("h3",{class:"mx-2"},"Task Data",-1),Qe=(0,n._)("span",{class:"title"},"LAT Format",-1),Ye={class:"card-header d-flex flex-row w-100"},Je={class:"text-start flex-fill"},Xe=(0,n._)("span",{class:"title"},"From AGVS",-1),et={class:"card-header d-flex flex-row w-100"},tt={class:"text-start flex-fill"};function at(e,t,a,i,l,o){const r=(0,n.up)("el-table-column"),c=(0,n.up)("el-tag"),d=(0,n.up)("el-popover"),u=(0,n.up)("el-button"),p=(0,n.up)("el-table"),g=(0,n.up)("json-viewer"),m=(0,n.up)("el-card");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",Le,[(0,n._)("div",{class:(0,M.C_)(["table-container block-item",l.show_task_data?"table-mini":"table-full"])},[Ee,(0,n.Wm)(p,{"row-key":"OrderNo",data:l.OrderList,"highlight-current-row":""},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{label:"NO",prop:"OrderNo",width:60,fixed:"left"}),(0,n.Wm)(r,{label:"任務名",prop:"latOrderDetail.taskName",width:120,fixed:"left"}),(0,n.Wm)(r,{label:"訂單狀態",prop:"State",formatter:o.StateFormatter},null,8,["formatter"]),(0,n.Wm)(r,{label:"訂單需求廠商(派車)",prop:"FromAGVS.agvsType"},{default:(0,n.w5)((e=>[void 0!=e.row.FromAGVS?((0,n.wg)(),(0,n.j4)(c,{key:0,style:{cursor:"pointer"},type:"danger",size:"normal",effect:"plain"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,M.zw)(o.AGVSProviderFormatter(e.row.FromAGVS.agvsType)),1)])),_:2},1024)):(0,n.kq)("",!0)])),_:1}),(0,n.Wm)(r,{label:"訂單接收時間",prop:"RecieveTimeStamp",formatter:o.TimeFormatter},{header:(0,n.w5)((()=>[He,(0,n.Wm)(d,{content:"LAT平台接收到派車任務的時間戳",placement:"top-start"},{reference:(0,n.w5)((()=>[$e])),_:1})])),_:1},8,["formatter"]),(0,n.Wm)(r,{label:"執行訂單的AGVC",prop:"ExecuteingAGVC"},{default:(0,n.w5)((e=>[(0,n._)("div",Pe,[(0,n.Wm)(c,{class:"w-100",style:{cursor:"pointer"},effect:"plain",onClick:t=>o.AgvcTagClickHandle(e.row.ExecuteingAGVCInfo.agvcID)},{default:(0,n.w5)((()=>[(0,n.Uk)((0,M.zw)(o.ExecuteAGVCInfoFormatter(e.row.ExecuteingAGVCInfo)),1)])),_:2},1032,["onClick"])])])),_:1}),(0,n.Wm)(r,{label:"訂單完成時間",prop:"CompleteTimeStamp",formatter:o.TimeFormatter},null,8,["formatter"]),(0,n.Wm)(r,{fixed:"right"},{default:(0,n.w5)((e=>[(0,n.Wm)(u,{onClick:t=>o.ShowOrderBtnClickHandle(e.row)},{default:(0,n.w5)((()=>[Re])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])],2),(0,n.wy)((0,n._)("div",Ke,[(0,n._)("div",qe,[(0,n.Wm)(u,{circle:"",onClick:t[0]||(t[0]=e=>l.show_task_data=!1)},{default:(0,n.w5)((()=>[Ze])),_:1}),Be]),Qe,(0,n.Wm)(m,{style:{height:"400px","overflow-y":"scroll"}},{header:(0,n.w5)((()=>[(0,n._)("div",Ye,[(0,n._)("span",Je,"Order-"+(0,M.zw)(l.SelectOrderNO),1)])])),default:(0,n.w5)((()=>[(0,n.Wm)(g,{class:"text-start",value:o.SelectedOrderTaskData_LAT,"expand-depth":4,copyable:"",boxed:"",expanded:""},null,8,["value"])])),_:1}),Xe,(0,n.Wm)(m,{style:{height:"400px","overflow-y":"scroll"}},{header:(0,n.w5)((()=>[(0,n._)("div",et,[(0,n._)("span",tt,"Order-"+(0,M.zw)(l.SelectOrderNO),1)])])),default:(0,n.w5)((()=>[(0,n.Wm)(g,{class:"text-start",value:o.SelectedOrderTaskData,"expand-depth":4,copyable:"",boxed:"",expanded:""},null,8,["value"])])),_:1})],512),[[s.F8,l.show_task_data]])])])}var st=a(6797),nt=a.n(st),it={data(){return{OrderList:[{OrderNo:1,TaskDownloadData:{SID:"001:001:001",EQName:"AGV_001",Header:{"0301":{"Time Stamp":"20220831 12:00:01",test:12.33}}}},{OrderNo:2,TaskDownloadData:{}}],show_task_data:!0,SelectOrderNO:-1,websocket:null}},methods:{ShowOrderBtnClickHandle(e){this.show_task_data?this.show_task_data=this.SelectOrderNO!=e.OrderNo:this.show_task_data=!0,this.SelectOrderNO=e.OrderNo},async FetchOrderList(){this.OrderList=await O()},SubscribeOrderChange(){this.websocket=new WebSocket("ws://localhost:5279/order"),this.websocket.onmessage=e=>{var t=JSON.parse(e.data),a=this.OrderList.find((e=>e.OrderNo==t.OrderNo));a?this.UpdateOrder(t):this.OrderList.push(t)},this.websocket.onopen=()=>console.info("[/order] ws connected")},UpdateOrder(e){var t=this.OrderList.findIndex((t=>t.OrderNo==e.OrderNo));this.OrderList[t]=e},TimeFormatter(e,t,a,s){return nt()(a).format("yyyy-MM-DD HH:mm:ss")},AGVSProviderFormatter(e){return ie(e)},StateFormatter(e,t,a,s){return 0==a?"等待訂單接收":1==a?"訂單執行中":2==a?"訂單已完成":"Unknown"},ExecuteAGVCInfoFormatter(e){return void 0==e?"":`${e.agvcID}(${ne(e.agvcType)})`},AgvcTagClickHandle(e){this.$router.push({name:"agvc",query:{agv_id:e}})}},computed:{SelectedOrderTaskData(){var e=this.OrderList.find((e=>e.OrderNo==this.SelectOrderNO));return e?e.TaskDownloadData:{}},SelectedOrderTaskData_LAT(){var e=this.OrderList.find((e=>e.OrderNo==this.SelectOrderNO));return e?e.latOrderDetail:{}}},mounted(){setTimeout((()=>{this.FetchOrderList().then((()=>{this.SubscribeOrderChange()}))}),10)}};const lt=(0,g.Z)(it,[["render",at]]);var ot=lt;const rt=e=>((0,n.dD)("data-v-037a0e37"),e=e(),(0,n.Cn)(),e),ct={class:"agvc-view bg-light"},dt=(0,n.Uk)("與後端服務器連線發生異常!"),ut={class:"actions-button-group w-100 mx-2 py-2 text-end border-bottom"},pt=(0,n.Uk)("取消導航"),gt=rt((()=>(0,n._)("i",{class:"bi bi-pin-map-fill"},null,-1))),mt=(0,n.Uk)("MAP "),vt=rt((()=>(0,n._)("i",{class:"bi bi-info-circle-fill"},null,-1))),ht=(0,n.Uk)("原廠資訊 "),_t=rt((()=>(0,n._)("i",{class:"bi bi-minecart"},null,-1))),wt=(0,n.Uk)("導航 "),ft={class:"infos d-flex flex-row row border-bottom"},bt={class:"info-block"},kt=rt((()=>(0,n._)("h5",null,"ID",-1))),yt={class:"content"},St={class:"info-block"},Dt=rt((()=>(0,n._)("h5",null,"名稱",-1))),jt={class:"content"},xt={class:"info-block"},Ct=rt((()=>(0,n._)("h5",null,"廠牌",-1))),Nt={class:"content"},At={class:"info-block"},Wt=rt((()=>(0,n._)("h5",null,"連線狀態",-1))),It={class:"content"},Vt={class:"info-block"},Ot=rt((()=>(0,n._)("h5",null,"上線狀態",-1))),zt={class:"content"},Gt={class:"info-block"},Tt=rt((()=>(0,n._)("h5",null,"訂單狀態",-1))),Mt={class:"content"},Ut={class:"info-block alarm-block"},Ft=rt((()=>(0,n._)("h5",null,"警報狀態",-1))),Lt={class:"content"},Et={key:0},Ht=(0,n.Uk)("Normal"),$t={key:1,class:"text-start"},Pt=(0,n.Uk)("Fatal"),Rt=(0,n.Uk)("Error"),Kt=(0,n.Uk)("Warning"),qt=(0,n.Uk)("Notice"),Zt={class:"info-block"},Bt=rt((()=>(0,n._)("h5",null,"當前地圖",-1))),Qt={class:"content"},Yt={class:"info-block"},Jt=rt((()=>(0,n._)("h5",null,"所在站點",-1))),Xt={class:"content"},ea={class:"info-block"},ta=rt((()=>(0,n._)("h5",null,"電量",-1))),aa={class:"content"},sa=(0,n.Uk)("充電中"),na={class:"my-2 mx-2 order-block"},ia={class:"order-card-title"},la=rt((()=>(0,n._)("h5",null,"Orders",-1))),oa=(0,n.Uk)("檢視所有訂單");function ra(e,t,a,i,l,o){const r=(0,n.up)("b-alert"),c=(0,n.up)("side-menu"),d=(0,n.up)("el-button"),u=(0,n.up)("el-tag"),p=(0,n.up)("el-progress"),g=(0,n.up)("el-table-column"),m=(0,n.up)("el-table"),v=(0,n.up)("native-info-viewer"),h=(0,n.up)("agvs-drawer");return(0,n.wg)(),(0,n.iD)("div",ct,[(0,n.Wm)(r,{modelValue:l.backend_disconnected,"onUpdate:modelValue":t[0]||(t[0]=e=>l.backend_disconnected=e),variant:"danger"},{default:(0,n.w5)((()=>[dt])),_:1},8,["modelValue"]),(0,n.Wm)(c,{ref:"side_menu",listData:l.agvcList,onCollapseChange:t[1]||(t[1]=e=>{l.menu_show=!e})},null,8,["listData"]),(0,n.Wm)(r,{modelValue:o.showDismissibleAlert,"onUpdate:modelValue":t[2]||(t[2]=e=>o.showDismissibleAlert=e),variant:"danger"},{default:(0,n.w5)((()=>[(0,n.Uk)("AGVC-"+(0,M.zw)(o.agv_eqName)+"尚未完成連線!",1)])),_:1},8,["modelValue"]),(0,n._)("div",{class:(0,M.C_)(["w-100",l.menu_show?"menu-show":"menu-hide"])},[(0,n._)("div",ut,["RUNNING"==o.agv_RunningState?((0,n.wg)(),(0,n.j4)(d,{key:0,class:"mx-1 float-start",type:"danger",size:"default",onClick:t[3]||(t[3]=e=>o.CancelNavigating())},{default:(0,n.w5)((()=>[pt])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(d,{class:"mx-1",type:"",size:"default",onClick:t[4]||(t[4]=()=>{e.$router.push({name:"map_view",params:{agv_id:l.selectedAgvcID}})})},{default:(0,n.w5)((()=>[gt,mt])),_:1}),(0,n.Wm)(d,{class:"mx-1",type:"",size:"default",onClick:o.ShowNativeInfo},{default:(0,n.w5)((()=>[vt,ht])),_:1},8,["onClick"]),(0,n.Wm)(d,{class:"mx-1",type:"",size:"default",onClick:t[5]||(t[5]=()=>{e.$refs.agvs_side.Show()})},{default:(0,n.w5)((()=>[_t,wt])),_:1})]),(0,n._)("div",ft,[(0,n._)("div",bt,[kt,(0,n._)("div",yt,(0,M.zw)(o.agv_id),1)]),(0,n._)("div",St,[Dt,(0,n._)("div",jt,(0,M.zw)(o.agv_eqName),1)]),(0,n._)("div",xt,[Ct,(0,n._)("div",Nt,(0,M.zw)(o.agv_type),1)]),(0,n._)("div",At,[Wt,(0,n._)("div",It,(0,M.zw)(o.agv_ConnectedState),1)]),(0,n._)("div",Vt,[Ot,(0,n._)("div",zt,(0,M.zw)(o.agv_OnlineState),1)]),(0,n._)("div",Gt,[Tt,(0,n._)("div",Mt,(0,M.zw)(o.agv_RunningState),1)]),(0,n._)("div",Ut,[Ft,(0,n._)("div",Lt,[o.NormalNow?((0,n.wg)(),(0,n.iD)("div",Et,[(0,n.Wm)(u,{effect:"plain",size:"large",type:"success"},{default:(0,n.w5)((()=>[Ht])),_:1})])):((0,n.wg)(),(0,n.iD)("div",$t,[(0,n.wy)((0,n.Wm)(u,{effect:"plain",size:"large",type:"danger"},{default:(0,n.w5)((()=>[Pt])),_:1},512),[[s.F8,o.FatalNow]]),(0,n.wy)((0,n.Wm)(u,{effect:"plain",size:"large",type:"danger"},{default:(0,n.w5)((()=>[Rt])),_:1},512),[[s.F8,o.ErrorNow]]),(0,n.wy)((0,n.Wm)(u,{effect:"plain",size:"large",type:"warning"},{default:(0,n.w5)((()=>[Kt])),_:1},512),[[s.F8,o.WarningNow]]),(0,n.wy)((0,n.Wm)(u,{effect:"plain",size:"large",type:"warning"},{default:(0,n.w5)((()=>[qt])),_:1},512),[[s.F8,o.NoticeNow]])]))])]),(0,n._)("div",Zt,[Bt,(0,n._)("div",Qt,[(0,n._)("u",null,(0,M.zw)(o.agv_currentMapName),1)])]),(0,n._)("div",Yt,[Jt,(0,n._)("div",Xt,[(0,n._)("u",null,(0,M.zw)(o.agv_currentStation),1)])]),(0,n._)("div",ea,[ta,(0,n._)("div",aa,[(0,n.Wm)(p,{color:o.battery_color,percentage:o.agv_battery,type:"line","stroke-width":22,width:60},null,8,["color","percentage"]),o.agv_charging?((0,n.wg)(),(0,n.j4)(u,{key:0,effect:"plain",type:"danger"},{default:(0,n.w5)((()=>[sa])),_:1})):(0,n.kq)("",!0)])])]),(0,n._)("div",na,[(0,n._)("div",ia,[la,(0,n.Wm)(d,{type:"",size:"default",onClick:t[6]||(t[6]=()=>{e.$router.push("/Orders")})},{default:(0,n.w5)((()=>[oa])),_:1})]),(0,n.Wm)(m,{data:o.agv_orderList,"row-key":"OrderNo",height:"430",border:""},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{label:"任務名",prop:"latOrderDetail.taskName"}),(0,n.Wm)(g,{label:"派車廠商",prop:"FromAGVS.agvsType",formatter:o.AGVSTypeFormat},null,8,["formatter"]),(0,n.Wm)(g,{label:"接收時間",prop:"RecieveTimeStamp",formatter:o.TimeFormatter},null,8,["formatter"]),(0,n.Wm)(g,{label:"完成時間",prop:"CompleteTimeStamp",formatter:o.TimeFormatter},null,8,["formatter"]),(0,n.Wm)(g,{label:"執行狀態",prop:"State",formatter:o.OrderStateFormat},null,8,["formatter"])])),_:1},8,["data"])])],2),(0,n.wy)((0,n._)("div",{class:(0,M.C_)(["foot py-2",l.menu_show?"menu-show":"menu-hide"])},"?sdasasasasasasasasasasas",2),[[s.F8,!1]]),(0,n.Wm)(v,{agv_id:l.selectedAgvcID,agv_name:o.agv_eqName,ref:"native_info_viewer"},null,8,["agv_id","agv_name"]),(0,n.Wm)(h,{Default_AGV_Name:o.agv_eqName,stations:o.stations,ref:"agvs_side"},null,8,["Default_AGV_Name","stations"])])}var ca=x().create({baseURL:"http://127.0.0.1:5000/api/KingGallentAGVSEmulator"});const da="/AGVSReset_without_SID",ua="/CreateOrderTaskLink";async function pa(e){var t=await ca.get(`${da}?EQName=${e}&resetMode=0`);return t.data}async function ga(e,t,a){var s=await ca.post(`${ua}?SID=${e}&EQName=${t}`,a);return s}const ma=["id"],va={class:"d-flex flex-row w-100"},ha=(0,n.Uk)("暫停更新"),_a=(0,n.Uk)("Resume"),wa={class:"bg-light h-100"};function fa(e,t,a,s,i,l){const o=(0,n.up)("b-button"),r=(0,n.up)("json-viewer"),c=(0,n.up)("el-drawer");return(0,n.wg)(),(0,n.j4)(c,{modelValue:i.draw_show,"onUpdate:modelValue":t[2]||(t[2]=e=>i.draw_show=e),direction:i.direction,size:"50%"},{header:(0,n.w5)((({titleId:e})=>[(0,n._)("div",{class:"text-start",id:e},[(0,n._)("h3",null,(0,M.zw)(a.agv_name)+"("+(0,M.zw)(a.agv_id)+") 原廠資訊",1),(0,n._)("div",va,[(0,n.Wm)(o,{disabled:i.pause,onClick:t[0]||(t[0]=e=>i.pause=!0),variant:"danger"},{default:(0,n.w5)((()=>[ha])),_:1},8,["disabled"]),(0,n.Wm)(o,{class:"mx-3",disabled:!i.pause,onClick:t[1]||(t[1]=e=>i.pause=!1),variant:"success"},{default:(0,n.w5)((()=>[_a])),_:1},8,["disabled"])])],8,ma)])),default:(0,n.w5)((()=>[(0,n._)("div",wa,[(0,n.Wm)(r,{class:"text-start",value:i.nativeData,"expand-depth":4,copyable:"",boxed:"",expanded:""},null,8,["value"])])])),_:1},8,["modelValue","direction"])}var ba={props:{agv_id:{type:String,default:""},agv_name:{type:String,default:""}},data(){return{draw_show:!1,direction:"rtl",nativeData:{},pause:!1}},methods:{Open(){setInterval((()=>{this.pause||z(this.agv_name).then((e=>{this.nativeData=e}))}),1e3),this.direction=window.innerWidth>500?"rtl":"btt",this.draw_show=!0}},mounted(){this.direction=window.innerWidth>500?"rtl":"btt"}};const ka=(0,g.Z)(ba,[["render",fa]]);var ya=ka;const Sa=(0,n._)("i",{class:"bi bi-list"},null,-1),Da=[Sa],ja=(0,n._)("i",{class:"bi bi-arrow-left"},null,-1),xa=[ja],Ca={class:"sidebar h-100 my-2"},Na={class:"title text-start w-100 px-3 py-2"},Aa={class:"selector-mode"},Wa={class:"menu-mode border-top h-100"},Ia={class:"d-flex flex-column"},Va=["index","onClick"],Oa=["onClick"],za={key:0,class:"bi bi-exclamation-lg",style:{color:"red"}},Ga={key:1,class:"bi bi-check",style:{color:"lime"}},Ta=(0,n._)("i",{class:"bi bi-car-front"},null,-1);function Ma(e,t,a,i,l,o){const r=(0,n.up)("el-option"),c=(0,n.up)("el-select"),d=(0,n.Q2)("loading");return(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",{class:(0,M.C_)(["agvc-side-menu h-100",l.isCollapse?"hidding":""])},[(0,n._)("div",{class:(0,M.C_)(["toggle",l.isCollapse?"hidding":""])},[l.isCollapse?((0,n.wg)(),(0,n.iD)("span",{key:0,class:"mx-3 py-2",onClick:t[0]||(t[0]=e=>o.Show())},Da)):((0,n.wg)(),(0,n.iD)("span",{key:1,class:"mx-3 py-2",onClick:t[1]||(t[1]=e=>o.Hide())},xa))],2),(0,n.Wm)(s.uT,{name:"el-fade-in"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("div",Ca,[(0,n._)("div",Na,(0,M.zw)(a.menu_title),1),(0,n.wy)((0,n._)("div",Aa,[(0,n.Wm)(c,{size:"large",modelValue:l.selectedAgvcID,"onUpdate:modelValue":t[2]||(t[2]=e=>l.selectedAgvcID=e),onChange:o.ChangeAGVC},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.listData,(e=>((0,n.wg)(),(0,n.j4)(r,{key:e.Key,label:`${e.Key}(${e.Value.EQName})`,value:e.Key},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])],512),[[s.F8,!1]]),(0,n._)("div",Wa,[(0,n._)("div",Ia,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.listData,(e=>((0,n.wg)(),(0,n.iD)("div",{class:(0,M.C_)([e.Key==l.selectedAgvcID?"active":"inactive","item text-start w-100"]),key:e.Key,index:e.Value,onClick:t=>o.ChangeAGVC(e.Key)},[(0,n._)("a",{class:(0,M.C_)(["",e.Key==l.selectedAgvcID?"a-active":"a-inactive"]),onClick:t=>o.ChangeAGVC(e.Key)},[e.Value.Connected?((0,n.wg)(),(0,n.iD)("i",Ga)):((0,n.wg)(),(0,n.iD)("i",za)),Ta,(0,n.Uk)(" "+(0,M.zw)(e.Value.EQName)+" | ("+(0,M.zw)(e.Value.Type)+") ",1)],10,Oa)],10,Va)))),128))])])],512),[[s.F8,!l.isCollapse]])])),_:1})],2)),[[d,l.full_screen_loading,void 0,{fullscreen:!0,lock:!0}]])}var Ua={props:{listData:{type:Array,default:[]},menu_title:{type:String,default:"AGVC List"}},data(){return{isCollapse:!1,position:"left",selectedAgvcID:"",full_screen_loading:!1}},methods:{Hide(){this.isCollapse=!0,this.$emit("collapseChange",!0)},Show(){this.isCollapse=!1,this.$emit("collapseChange",!1)},GetCollapseState(){return this.isCollapse},ChangeAGVC(e){this.full_screen_loading=!0,this.selectedAgvcID=e,this.$router.push({name:"agvc",query:{agv_id:e}}),setTimeout((()=>{this.full_screen_loading=!1}),400)}},mounted(){this.$route.query.agv_id?this.selectedAgvcID=this.$route.query.agv_id:0!=this.listData.length&&(this.selectedAgvcID=this.listData[0].Key)}};const Fa=(0,g.Z)(Ua,[["render",Ma]]);var La=Fa;function Ea(e,t,a,s,i,l){const o=(0,n.up)("agvc-dispatcher"),r=(0,n.up)("el-drawer");return(0,n.wg)(),(0,n.j4)(r,{direction:"rtl",size:"30%",modelValue:i.show,"onUpdate:modelValue":t[0]||(t[0]=e=>i.show=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(o,{stations:a.stations,Default_AGV_Name:a.Default_AGV_Name,agvc_eq_names:i.agvc_eq_names},null,8,["stations","Default_AGV_Name","agvc_eq_names"])])),_:1},8,["modelValue"])}const Ha={class:"agvs-dispatcher"},$a={class:"d-flex flex-row"},Pa=(0,n.Uk)("Add"),Ra={class:"d-flex flex-row"},Ka=(0,n.Uk)("Delete"),qa=(0,n.Uk)("Submit");function Za(e,t,a,s,i,l){const o=(0,n.up)("el-option"),r=(0,n.up)("el-select"),c=(0,n.up)("el-form-item"),d=(0,n.up)("el-button"),u=(0,n.up)("el-checkbox"),p=(0,n.up)("el-form"),g=(0,n.up)("el-divider"),m=(0,n.up)("b-button");return(0,n.wg)(),(0,n.iD)("div",Ha,[(0,n.Wm)(p,{"label-width":"100px"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{label:"派車系統"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{modelValue:i.selectedAgvsType,"onUpdate:modelValue":t[0]||(t[0]=e=>i.selectedAgvsType=e),placeholder:"選擇派車"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.agvsTypes,(e=>((0,n.wg)(),(0,n.j4)(o,{key:e,value:e},null,8,["value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,n.Wm)(c,{label:"EQ Name"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{modelValue:i.EQName,"onUpdate:modelValue":t[1]||(t[1]=e=>i.EQName=e),placeholder:"選擇AGV"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.agvc_eq_names,(e=>((0,n.wg)(),(0,n.j4)(o,{key:e,value:e},null,8,["value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,n.Wm)(c,{label:"目標站點"},{default:(0,n.w5)((()=>[(0,n._)("div",$a,[(0,n.Wm)(r,{modelValue:i.first_station,"onUpdate:modelValue":t[2]||(t[2]=e=>i.first_station=e),placeholder:"選擇站點"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.stations,(e=>((0,n.wg)(),(0,n.j4)(o,{key:e,value:e},null,8,["value"])))),128))])),_:1},8,["modelValue"]),(0,n.Wm)(d,{onClick:l.AddStation},{default:(0,n.w5)((()=>[Pa])),_:1},8,["onClick"])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.addtions_stations,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.index},[(0,n._)("div",Ra,[(0,n.Wm)(r,{modelValue:e.name,"onUpdate:modelValue":t=>e.name=t,placeholder:"選擇站點"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.stations,(e=>((0,n.wg)(),(0,n.j4)(o,{key:e,value:e},null,8,["value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,n.Wm)(d,{plain:"",type:"danger",onClick:t=>l.DeleteStation(e.index)},{default:(0,n.w5)((()=>[Ka])),_:2},1032,["onClick"])])])))),128))])),_:1}),(0,n.Wm)(c,{label:"循環"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{label:""})])),_:1})])),_:1}),(0,n.Wm)(g),(0,n.Wm)(m,{class:"bg-primary w-100 mx-1",onClick:l.Submit},{default:(0,n.w5)((()=>[qa])),_:1},8,["onClick"])])}var Ba={props:{Default_AGV_Name:{type:String,default:"AGV_002"},agvc_eq_names:{type:Array,default(){return[]}},stations:{type:Array,default(){return[]}}},watch:{Default_AGV_Name:{handler:function(e,t){this.EQName=e},immediate:!0}},data(){return{selectedAgvsType:"KingGallent",selectedAgvcName:"",EQName:"AGV_002",SID:"001:001:001",agvsTypes:["KingGallent","GPM"],first_station:"LM1",addtions_stations:[]}},methods:{AddStation(){var e=this.addtions_stations.length;this.addtions_stations.push({index:e,name:""})},DeleteStation(e){var t=this.addtions_stations.findIndex((t=>t.index==e));this.addtions_stations.splice(t,1)},async Submit(){this.RemoveBlankStations();var e=[];e.push(this.first_station),this.addtions_stations.forEach((t=>{e.push(t.name)}));var t={TaskID:"web-dispatch-"+Date.now(),Stations:e};console.info(t);var a=await ga(this.SID,this.EQName,t).catch((e=>{this.$notify({title:"AGVS 派車",message:"發生錯誤:"+e.message,type:"error",duration:"3500",position:"top-right",showClose:"true"})}));if(200==a.status){var s=a.data,n=s.State,i=s.Success,l=s.ErrorMessage;this.$notify({title:"AGVS 派車",message:i?"派車成功-任務將"+(0==n?"馬上執行":"在稍後進行執行"):l,type:i?"info":"error",duration:"2500",position:"top-right",showClose:"true"})}else this.$notify({title:"AGVS 派車",message:"發生錯誤",type:"error",duration:"2500",position:"top-right",showClose:"true"})},RemoveBlankStations(){var e=!0;while(e){var t=this.addtions_stations.find((e=>""==e.name));e=void 0!=t,e&&this.DeleteStation(t.index)}}}};const Qa=(0,g.Z)(Ba,[["render",Za]]);var Ya=Qa,Ja={props:{Default_AGV_Name:{type:String,default:"AGV_002"},stations:{type:Array,default(){return[]}}},components:{"agvc-dispatcher":Ya},data(){return{show:!1,agvc_eq_names:[]}},methods:{async UpdateAGVCList(){var e=await N();console.info(e),this.agvc_eq_names=e.map((e=>e.Value.EQName))},Show(){this.UpdateAGVCList(),this.show=!0}}};const Xa=(0,g.Z)(Ja,[["render",Ea]]);var es=Xa,ts={components:{"native-info-viewer":ya,"side-menu":La,"agvs-drawer":es},data(){return{loading:!0,id:1,agvcData:null,agvcList:[],selectedAgvcID:"",menu_show:!0,map_data:{},backend_disconnected:!1,agvclist_fetch_timer:null}},methods:{OrderStateFormat(e,t,a,s){return re(a)},AGVSTypeFormat(e,t,a,s){return ie(a)},TimeFormatter(e,t,a,s){return nt()(a).format("yyyy-MM-DD HH:mm:ss")},ShowNativeInfo(){this.$refs.native_info_viewer.Open()},async CancelNavigating(){await pa(this.agvcData.EQName)},DownloadAgvcListTimer(){this.agvclist_fetch_timer=setInterval((()=>{N().then((e=>{this.agvcList=e}))}),1e3)}},mounted(){setTimeout((()=>{G().then((e=>{this.map_data=e,N().then((e=>{this.agvcList=e,this.selectedAgvcID=this.agv_id,this.DownloadAgvcListTimer()})),W(this.agv_id).then((e=>this.agvcData=e)),setInterval((async()=>{this.loading=!1,this.agvcData=await W(this.agv_id)}),1e3)})).catch((e=>{this.backend_disconnected=!0}))}),400)},unmounted(){clearInterval(this.agvclist_fetch_timer)},computed:{agv_id(){var e=this.$route.query;return e.agv_id?e.agv_id:0!=this.agvcList.length?this.agvcList[0].Key:"??"},showDismissibleAlert(){return"CONNECTING"==this.agv_ConnectedState},agv_type(){return this.agvcData?ne(this.agvcData.agvcType):"-"},agv_OnlineState(){return this.agvcData?this.agvcData.agvcStates.States.OnlineState:"-"},agv_RunningState(){return this.agvcData?this.agvcData.agvcStates.States.RunningState:"-"},agv_ConnectedState(){return this.agvcData?this.agvcData.agvcStates.States.ConnectionState:"-"},agv_currentMapName(){return this.agvcData?this.agvcData.agvcStates.MapStates.currentMapInfo.name:"-"},agv_currentStation(){var e=this.agvcData?this.agvcData.agvcStates.MapStates.currentStationID:"Unknown";if("Navigating"==e){var t=this.agvcData.agvcStates.MapStates.navigationState;return`前往 ${t.targetStationID}`}return e},agv_battery(){return this.agvcData?Number.parseInt((100*this.agvcData.agvcStates.BetteryState.remaining).toFixed(0)):-1},agv_charging(){return!!this.agvcData&&this.agvcData.agvcStates.BetteryState.charging},battery_color(){return this.agv_battery>70?"green":this.agv_battery>50?"rgb(76,199,45)":this.agv_battery>20?"orange":"red"},agv_eqName(){return this.agvcData?this.agvcData.EQName:-1},agv_orderList(){return this.agvcData&&this.agvcData.orderList_LAT?this.agvcData.orderList_LAT.reverse():[]},agv_alarm_state(){return this.agvcData?this.agvcData.agvcStates.AlarmState:{}},FatalNow(){return void 0!=this.agv_alarm_state.NewestFatals&&0!=this.agv_alarm_state.NewestFatals.length},ErrorNow(){return void 0!=this.agv_alarm_state.NewestErrors&&0!=this.agv_alarm_state.NewestErrors.length},WarningNow(){return void 0!=this.agv_alarm_state.NewestWarnings&&0!=this.agv_alarm_state.NewestWarnings.length},NoticeNow(){return void 0!=this.agv_alarm_state.NewestNotices&&0!=this.agv_alarm_state.NewestNotices.length},NormalNow(){return!this.FatalNow&&!this.ErrorNow&&!this.WarningNow&&!this.NoticeNow},stations(){return this.agvcData?this.agvcData.agvcStates.MapStates.currentMapInfo.station_id_list:[]}}};const as=(0,g.Z)(ts,[["render",ra],["__scopeId","data-v-037a0e37"]]);var ss=as;const ns=e=>((0,n.dD)("data-v-15289f2a"),e=e(),(0,n.Cn)(),e),is={class:"agvs-view"},ls={class:"nav border-bottom mb-2 px-3"},os=ns((()=>(0,n._)("span",{class:"mx-1"},"|",-1)));function rs(e,t,a,s,i,l){const o=(0,n.up)("router-link"),r=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",is,[(0,n._)("div",ls,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.links,(e=>((0,n.wg)(),(0,n.j4)(o,{key:e.name,to:{name:e.name},class:(0,M.C_)(i.active_name==e.name?"active":"inactive"),onClick:t=>i.active_name=e.name},{default:(0,n.w5)((()=>[(0,n.Uk)((0,M.zw)(e.label)+" ",1),os])),_:2},1032,["to","class","onClick"])))),128))]),(0,n.Wm)(r,null,{default:(0,n.w5)((({Component:e})=>[((0,n.wg)(),(0,n.j4)(n.Ob,null,[((0,n.wg)(),(0,n.j4)((0,n.LL)(e)))],1024))])),_:1})])}var cs={components:{"agvc-dispatcher":Ya},data(){return{active_name:"agvs.kinggallent",links:[{name:"agvs.kinggallent",label:"KingGallent"},{name:"agvs.gpm",label:"GPM"}]}}};const ds=(0,g.Z)(cs,[["render",rs],["__scopeId","data-v-15289f2a"]]);var us=ds;const ps={class:"log-view my-5 border"},gs={class:"fix-in-bottom"};function ms(e,t,a,s,i,l){const o=(0,n.up)("log-item");return(0,n.wg)(),(0,n.iD)("div",ps,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.logItemList,(e=>((0,n.wg)(),(0,n.j4)(o,{key:e.Time,logItem:e},null,8,["logItem"])))),128)),(0,n._)("div",gs,[(0,n.Wm)(o,{logItem:l.newestlog},null,8,["logItem"])])])}a(2262),a(1378);const vs={class:"log-item d-flex flex-row border-bottom"},hs={style:{color:"white"}},_s={class:"msg px-2 text-start"};function ws(e,t,a,s,i,l){const o=(0,n.up)("el-tag");return(0,n.wg)(),(0,n.iD)("div",vs,[(0,n._)("div",null,[(0,n.Wm)(o,{effect:"light",type:"info","disable-transitions":""},{default:(0,n.w5)((()=>[(0,n.Uk)((0,M.zw)(l.time),1)])),_:1})]),(0,n._)("div",hs,[(0,n.Wm)(o,{effect:"dark",type:"AGVS_TO_LAT"==a.logItem.Direction?"danger":"success","disable-transitions":""},{default:(0,n.w5)((()=>[(0,n.Uk)((0,M.zw)(a.logItem.Direction),1)])),_:1},8,["type"])]),(0,n._)("div",_s,(0,M.zw)(l.shortMsg),1)])}var fs={props:{logItem:{type:Object,default:{Direction:"",Time:"",Message:""}}},computed:{time(){return nt()(this.logItem.Time).format("yyyy-MM-DD HH:mm:ss")},shortMsg(){var e=window.innerWidth;return console.info(e),this.logItem.Message.substring(0,e-650)+"..."}}};const bs=(0,g.Z)(fs,[["render",ws],["__scopeId","data-v-ee8e7c3a"]]);var ks=bs,ys={components:{"log-item":ks},data(){return{logItemList:[]}},methods:{WebsocketConnect(){var e=new WebSocket(this.wsHost+"/messageHsLog");e.onopen=()=>{this.$notify.success({title:"Websocekt",message:"Log Websocekt Connected",duration:"1000",position:"top-right",showClose:"true"})},e.onmessage=e=>{this.WsDataHandle(JSON.parse(e.data))},e.onclose=(e,t)=>alert(t),e.onerror=(e,t)=>alert(t)},WsDataHandle(e){this.logItemList.length>100&&(this.logItemList=[]),this.logItemList.push(e)}},mounted(){console.info("ws host:",this.wsHost),this.WebsocketConnect()},computed:{wsHost(){return C.replaceAll("http","ws")},newestlog(){return this.logItemList.at(this.logItemList.length-1)}}};const Ss=(0,g.Z)(ys,[["render",ms],["__scopeId","data-v-59c9fd49"]]);var Ds=Ss;const js=e=>((0,n.dD)("data-v-d94c3a5e"),e=e(),(0,n.Cn)(),e),xs={class:"map-view mt-4 h-100 d-flex flex-row"},Cs={class:"menu pt-3"},Ns=js((()=>(0,n._)("div",{class:"head w-100 mb-3 border-bottom"},"地圖列表",-1))),As=["onClick"],Ws={class:"bi bi-map"},Is={class:"view flex-fill"},Vs={class:"open-agvc-dispatchcer-button"},Os=(0,n.Uk)("派");function zs(e,t,a,s,i,l){const o=(0,n.up)("map-component"),r=(0,n.up)("agvc-dispatcher-side-drawer"),c=(0,n.up)("el-button");return(0,n.wg)(),(0,n.iD)("div",xs,[(0,n._)("div",Cs,[Ns,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.mapInfos,(e=>((0,n.wg)(),(0,n.iD)("div",{class:(0,M.C_)(["map-name",i.selectedMapName==e.name?"selected":""]),key:e.name,onClick:()=>i.selectedMapName=e.name},[(0,n._)("i",Ws,[(0,n._)("span",null,(0,M.zw)(e.name),1)])],10,As)))),128))]),(0,n._)("div",Is,[(0,n.Wm)(o,{map_info:l.mapInfo},null,8,["map_info"])]),(0,n.Wm)(r,{stations:i.stationsInSelectedMap,Default_AGV_Name:"AGV_001",ref:"agvc_dispatcher"},null,8,["stations"]),(0,n._)("div",Vs,[(0,n.Wm)(c,{disabled:""==i.selectedMapName,size:"large",circle:"",onClick:t[0]||(t[0]=e=>l.OpenAGVCDispacher())},{default:(0,n.w5)((()=>[Os])),_:1},8,["disabled"])])])}const Gs=e=>((0,n.dD)("data-v-df11e8ce"),e=e(),(0,n.Cn)(),e),Ts={class:"map-comp w-100 h-100"},Ms={class:"header w-100 d-flex flex-row"},Us={class:"flex-fill text-end px-3"},Fs=Gs((()=>(0,n._)("span",{class:"mx-1"},"|",-1))),Ls={class:"d-flex flex-row h-100"},Es={class:"flex-fill bg-dark",ref:"map"},Hs=Gs((()=>(0,n._)("i",{class:"px-2 py-2 bi bi-car-front"},null,-1))),$s=[Hs],Ps={class:"agv-name"},Rs={class:"map-header d-flex flex-row px-2 pt-1"},Ks=(0,n.uE)('<div class="station-type-ledgend d-flex flex-row px-2 pt-1" data-v-df11e8ce><span data-v-df11e8ce>STATION:</span><div class="LocationMark mx-2" data-v-df11e8ce></div>一般站點 | <div class="CharginMark mx-2" data-v-df11e8ce></div>充電站 <span class="agv-label" data-v-df11e8ce>AGVC:</span><div class="non-navigating mx-2" data-v-df11e8ce></div>IDLE | <div class="navigating mx-2" data-v-df11e8ce></div>執行導航 </div>',1),qs={class:"map-view-control d-flex flex-row px-2 pt-1"},Zs=Gs((()=>(0,n._)("span",null,"|",-1))),Bs={class:"station-list pt-2"},Qs={class:"bi bi-geo-alt w-100"},Ys={class:"px-2"};function Js(e,t,a,s,i,l){const o=(0,n.up)("el-tooltip");return(0,n.wg)(),(0,n.iD)("div",Ts,[(0,n._)("div",Ms,[(0,n._)("div",Us,[(0,n._)("span",null,(0,M.zw)(l.agvc_names.length)+" 部車",1),Fs,(0,n._)("span",null,(0,M.zw)(a.map_info.stations.length)+" 個站點",1)])]),(0,n._)("div",Ls,[(0,n._)("div",Es,[(0,n._)("div",{class:"map-base bg-light",style:(0,M.j5)(l.map_style)},[(0,n._)("div",{class:"map-image",style:(0,M.j5)(l.map_image_style)},"??",4),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.grid_ary,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"grid-item",key:e})))),128)),(0,n._)("div",{class:"station-spot center",style:(0,M.j5)(l.center)},"+",4),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.map_info.stations,(e=>((0,n.wg)(),(0,n.iD)("div",{class:(0,M.C_)(["station-spot",e.type]),style:(0,M.j5)(l.station_style(e.id)),key:e.id},[(0,n.Wm)(o,{content:e.id,placement:"top-start"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,M.zw)(e.id),1)])),_:2},1032,["content"])],6)))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.agvc_names,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"agv-spot",style:(0,M.j5)(l.agvc_style(e)),key:e},[(0,n._)("div",{class:(0,M.C_)(["agv-icon",l.agvc_navigate_state(e)])},$s,2),(0,n.Wm)(o,{placement:"top-start",content:l.agvc_navigate_description(e)},{default:(0,n.w5)((()=>[(0,n._)("div",Ps,(0,M.zw)(e),1)])),_:2},1032,["content"])],4)))),128))],4),(0,n._)("div",Rs,[Ks,(0,n._)("div",qs,[(0,n.Wm)(o,{content:"順時針旋轉90",placement:"top-end"},{default:(0,n.w5)((()=>[(0,n._)("i",{class:"bi bi-arrow-clockwise",onClick:t[0]||(t[0]=(...e)=>l.ClockwisingMap&&l.ClockwisingMap(...e))})])),_:1}),Zs,(0,n.Wm)(o,{content:"逆時針旋轉90",placement:"top-end"},{default:(0,n.w5)((()=>[(0,n._)("i",{class:"bi bi-arrow-counterclockwise",onClick:t[1]||(t[1]=(...e)=>l.CounterClockwisingMap&&l.CounterClockwisingMap(...e))})])),_:1})])])],512),(0,n._)("div",Bs,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.map_info.stations,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"station-item text-start px-2",key:e.id},[(0,n.Wm)(o,{class:"mx-5",content:`(${e.x},${e.y})`,placement:"left"},{default:(0,n.w5)((()=>[(0,n._)("i",Qs,[(0,n._)("span",Ys,(0,M.zw)(e.id),1)])])),_:2},1032,["content"])])))),128))])])])}var Xs={props:{map_info:{type:Object,default:{name:"",stations:[],mapFileUrl:""}}},watch:{map_info:{handler:function(e,t){console.info(e,t),this.wsClose(),this.agvc_location={},this.wsIni()},deep:!0}},data(){return{map_props:{width:1200,height:800},map_zoom_ratio:120,grid_ary:[],ws:null,agvc_location:{},station_block_size:{width:60,height:40},agv_spot_size:{width:20,height:20}}},methods:{wsIni(){var e=C.replace("http","ws"),t=new WebSocket(e+`/map_agvc?mapName=${this.map_info.name}`);t.onopen=()=>console.info("ws connected"),t.onmessage=e=>this.WsMsgHandle(JSON.parse(e.data)),this.ws=t},wsClose(){this.ws&&this.ws.close()},WsMsgHandle(e){Object.keys(e).forEach((t=>{void 0==this.agvc_location[t]&&(this.agvc_location[t]=e[t].MapStates),this.agvc_location[t]=e[t].MapStates}))},station_style(e){var t=this.map_info.stations.find((t=>t.id==e)),a=t.x,s=t.y,n=0,i=Math.PI/180*n,l=a*Math.cos(i)+s*Math.sin(i),o=s*Math.cos(i)-a*Math.sin(i);return t?{top:this.map_props.height/2+o*this.map_zoom_ratio*-1-this.station_block_size.height/2+"px",left:this.map_props.width/2+l*this.map_zoom_ratio-this.station_block_size.width/2+"px",width:this.station_block_size.width+"px",height:this.station_block_size.height+"px"}:{}},agvc_style(e){var t=this.agvc_location[e].globalCoordinate;return{top:this.map_props.height/2+t.y*this.map_zoom_ratio*-1-this.agv_spot_size.height/2+"px",left:this.map_props.width/2+t.x*this.map_zoom_ratio-this.agv_spot_size.height/2+"px",width:this.agv_spot_size.width+"px",height:this.agv_spot_size.height+"px"}},agvc_navigate_state(e){var t=this.agvc_location[e].navigationState;return t.IsNavigating?"navigating":"non-navigating"},agvc_navigate_description(e){var t=this.agvc_location[e].navigationState;if(t.IsNavigating){var a=t.pathStations.join("->");return`目標站點:${t.targetStationID}| 路徑:${a}`}return this.agvc_location[e].currentStationID},ClockwisingMap(){},CounterClockwisingMap(){}},computed:{map_image_style(){return{backgroundImage:`url('${this.map_info.mapFileUrl}')`}},map_style(){return{width:this.map_props.width+"px",height:this.map_props.height+"px"}},map_width(){return console.info(this.$refs.map.style),this.$refs.map.style["width"]},center(){return{top:this.map_props.height/2+"px",right:this.map_props.width/2+"px"}},agvc_names(){return Object.keys(this.agvc_location)}},mounted(){for(let e=0;e<300;e++)this.grid_ary.push(e)}};const en=(0,g.Z)(Xs,[["render",Js],["__scopeId","data-v-df11e8ce"]]);var tn=en,an={components:{"map-component":tn,"agvc-dispatcher-side-drawer":es},data(){return{mapInfos:[],selectedMapName:"",stationsInSelectedMap:[]}},computed:{mapInfo(){return this.mapInfos.find((e=>e.name==this.selectedMapName))}},mounted(){G().then((e=>this.mapInfos=e))},methods:{OpenAGVCDispacher(){this.stationsInSelectedMap=this.mapInfo.station_id_list,this.$refs.agvc_dispatcher.Show()}}};const sn=(0,g.Z)(an,[["render",zs],["__scopeId","data-v-d94c3a5e"]]);var nn=sn;const ln=(0,n._)("h1",null,"KingGallent",-1);function on(e,t,a,s,i,l){return(0,n.wg)(),(0,n.iD)("div",null,[ln,(0,n.Uk)(" "+(0,M.zw)(i.count),1)])}var rn={data(){return{count:0}},mounted(){setInterval((()=>{this.count++}),1e3)}};const cn=(0,g.Z)(rn,[["render",on]]);var dn=cn;const un=(0,n._)("h1",null,"GPM",-1),pn=[un];function gn(e,t,a,s,i,l){return(0,n.wg)(),(0,n.iD)("div",null,pn)}var mn={};const vn=(0,g.Z)(mn,[["render",gn]]);var hn=vn;const _n=[{path:"/",name:"home",component:me},{path:"/Orders",name:"orders",component:ot},{path:"/map/:agv_id",name:"map",component:Fe},{path:"/map_all",name:"map_all",component:Fe},{path:"/agvc",name:"agvc",component:ss},{path:"/logview",name:"log",component:Ds},{path:"/map_view",name:"map_view",component:nn},{path:"/agvs",name:"agvs",component:us,children:[{path:"/agvs",name:"agvs.kinggallent",component:dn,meta:{keepAlive:!0}},{path:"/agvs",name:"agvs.gpm",component:hn,meta:{keepAlive:!0}}]}],wn=(0,w.p7)({history:(0,w.PO)("/"),routes:_n});var fn=wn,bn=a(2026),kn=a(2918),yn=(a(4415),a(8865)),Sn=a.n(yn);const Dn=(0,s.ri)(h);Dn.use(fn),Dn.use(Sn()),Dn.use(bn.ZP),Dn.use(kn.Z,{size:"default",zIndex:3e3}),Dn.mount("#app")}},t={};function a(s){var n=t[s];if(void 0!==n)return n.exports;var i=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=e,function(){var e=[];a.O=function(t,s,n,i){if(!s){var l=1/0;for(d=0;d<e.length;d++){s=e[d][0],n=e[d][1],i=e[d][2];for(var o=!0,r=0;r<s.length;r++)(!1&i||l>=i)&&Object.keys(a.O).every((function(e){return a.O[e](s[r])}))?s.splice(r--,1):(o=!1,i<l&&(l=i));if(o){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[s,n,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={826:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,i,l=s[0],o=s[1],r=s[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(n in o)a.o(o,n)&&(a.m[n]=o[n]);if(r)var d=r(a)}for(t&&t(s);c<l.length;c++)i=l[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(d)},s=self["webpackChunkgpm_agv_lat_web"]=self["webpackChunkgpm_agv_lat_web"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(3243)}));s=a.O(s)})();
//# sourceMappingURL=index.b0f3fd24.js.map